(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f47f598"],{3550:function(e,t,l){},6865:function(e,t,l){"use strict";var a=l("a8b3"),n=l.n(a);n.a},"8fe2":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("k-dialog",{attrs:{"max-width":400,title:e.title,width:500},on:{close:e.okClick}},[l("div",{staticClass:"row ml-0 text-left popup-align-text"},[e.model.message?l("p",[e._v(e._s(e.model.message))]):e._e(),null!=e.model.result&&e.model.result.fileUrl?l("p",[l("b",[e._v("File URL:")]),e._v(" "+e._s(e.model.result.fileUrl))]):e._e()]),l("button",{staticClass:"k-button k-primary btn-popup",on:{click:e.okClick}},[e._v("Ok")])])},n=[],i=l("4f1f"),s={components:{"k-dialog":i["a"]},data:function(){return{title:void 0,messageModel:{id:"",message:"",status:!1,fileUrl:""}}},props:{model:Object,responseStatus:Boolean},created:function(){void 0!=this.$props.responseStatus?this.title=this.$props.responseStatus?"Success":"Failure":this.title="Failure",this.$props.model&&(this.messageModel=this.$props.model)},methods:{okClick:function(){this.$emit("cancel")}}},o=s,r=(l("a609"),l("2877")),c=Object(r["a"])(o,a,n,!1,null,"1faa21f8",null);t["a"]=c.exports},a609:function(e,t,l){"use strict";var a=l("3550"),n=l.n(a);n.a},a8b3:function(e,t,l){},bd6b:function(e,t,l){"use strict";var a=l("bec9"),n=l.n(a);n.a},bec9:function(e,t,l){},c5eb:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"file-upload"},[l("div",{staticClass:"container-fluid"},[l("div",{staticClass:"panel-heading"},[l("h2",{staticClass:"text-left"},[e._v("Upload File")]),l("form",{staticClass:"k-form",on:{submit:function(t){return t.preventDefault(),e.validateForm(t)}}},[l("div",{staticStyle:{height:"465px"}},[l("div",{staticClass:"table-responsive"},[l("table",{staticClass:"text-left mb-0 sm-font"},[e._m(0),l("tr",[e._m(1),l("td",[l("dropdownlist",{staticClass:"custom-input-width",style:{"font-size":"12px"},attrs:{"data-items":e.fileChannelKeys,"default-item":e.ddlDefault,"text-field":"key","data-item-id":"id"},on:{change:e.onChangeChannelKey},model:{value:e.uploadFileModel.channelKey,callback:function(t){e.$set(e.uploadFileModel,"channelKey",t)},expression:"uploadFileModel.channelKey"}})],1)]),l("tr",[e._m(2),l("td",[l("k-input",{staticClass:"custom-input-width",attrs:{type:"text",name:"referenceID"},model:{value:e.uploadFileModel.referenceID,callback:function(t){e.$set(e.uploadFileModel,"referenceID",t)},expression:"uploadFileModel.referenceID"}})],1)]),l("tr",[e._m(3),l("td",[l("k-input",{staticClass:"custom-input-width",attrs:{type:"text",name:"referenceType"},model:{value:e.uploadFileModel.referenceType,callback:function(t){e.$set(e.uploadFileModel,"referenceType",t)},expression:"uploadFileModel.referenceType"}})],1)]),l("tr",[e._m(4),l("td",[l("k-input",{staticClass:"custom-input-width",attrs:{type:"text",name:"tag"},model:{value:e.uploadFileModel.tag,callback:function(t){e.$set(e.uploadFileModel,"tag",t)},expression:"uploadFileModel.tag"}})],1)]),l("tr",[e._m(5),l("td",[l("input",{staticClass:"imageButton custom-input-width",attrs:{type:"file",id:"fileUpload"},on:{change:e.onFileSelection}})])]),l("tr",[l("td"),l("td",[e._v(e._s(e.fileName)+" ")])]),l("tr",[l("td"),l("td",[l("button",{staticClass:"k-button k-primary btn-popup mr-10",attrs:{type:"submit",tabindex:"0"}},[e._v("Upload")]),l("button",{staticClass:"k-button k-primary btn-popup",attrs:{type:"button",tabindex:"0"},on:{click:e.resetForm}},[e._v("Reset")])])])])])])])]),e.errors.length>0?l("error-popup",{attrs:{errors:e.errors},on:{cancel:e.errorPopupOk}}):e._e(),e.messageModel?l("message-popup",{attrs:{model:e.messageModel,responseStatus:e.messageModel.status},on:{cancel:e.messagePopupOk}}):e._e()],1)])},n=[function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("colgroup",[l("col",{staticStyle:{width:"150px"},attrs:{span:"1"}}),l("col",{staticStyle:{width:"350px"},attrs:{span:"1"}})])},function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("td",[l("label",[e._v("Channel Key"),l("span",{staticClass:"c-danger"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("td",[l("label",[e._v("Reference ID")])])},function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("td",[l("label",[e._v("Reference Type")])])},function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("td",[l("label",[e._v("Tag")])])},function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("td",[l("label",[e._v("File")])])}],i=(l("7f7f"),l("96cf"),l("3b8d")),s=l("bc3a"),o=l.n(s),r=l("5498"),c=l("a178"),u=l("fad7"),d=l("8fe2"),p={name:"SendEmail",components:{"k-input":r["Input"],dropdownlist:c["a"],"error-popup":u["a"],"message-popup":d["a"]},data:function(){return{base_url:this.$config.fileApiUrl,base_url_management:this.$config.fileApiManagementUrl,messageModel:void 0,fileChannelKeys:[],errors:[],fileName:void 0,ddlDefault:{id:"",key:"Select"},uploadFileModel:{channelKey:{id:"",key:"Select"},tag:"",referenceID:"",referenceType:"",file:""}}},beforeMount:function(){this.getFileChannelKeys()},methods:{getFileChannelKeys:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get(this.base_url_management+"GetFileChannelKeys");case 3:t=e.sent,t.data.status?this.fileChannelKeys=t.data.result:this.fileChannelKeys=[],e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),validateForm:function(e){if(this.uploadFileModel.channelKey.key&&"Select"==this.uploadFileModel.channelKey.key&&(this.uploadFileModel.channelKey=void 0),""==$.trim(this.uploadFileModel.referenceID)&&(this.uploadFileModel.referenceID=""),""==$.trim(this.uploadFileModel.referenceType)&&(this.uploadFileModel.referenceType=""),""==$.trim(this.uploadFileModel.tag)&&(this.uploadFileModel.tag=""),this.uploadFileModel.channelKey&&this.uploadFileModel.file)return this.uploadFile(),this.errors=[],!0;this.errors=[],this.uploadFileModel.channelKey||this.errors.push("Please select a Channel Key."),this.uploadFileModel.file||this.errors.push("Please select a file."),e.preventDefault()},uploadFile:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.uploadFileModel.tag=this.uploadFileModel.tag?this.uploadFileModel.tag:"",this.uploadFileModel.referenceID=this.uploadFileModel.referenceID?this.uploadFileModel.referenceID:"",this.uploadFileModel.referenceType=this.uploadFileModel.referenceType?this.uploadFileModel.referenceType:"",t=new FormData,t.append("file",this.uploadFileModel.file),e.next=8,o.a.post(this.base_url_management+"UploadFile?channelKey="+this.uploadFileModel.channelKey.key+"&referenceID="+this.uploadFileModel.referenceID+"&referenceType="+this.uploadFileModel.referenceType+"&tags="+this.uploadFileModel.tag,t,{header:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.status?(l.resetForm(),l.messageModel=e.data):l.messageModel=e.data,console.log(e)}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}(),onChangeChannelKey:function(e){this.uploadFileModel.channelKey=e.target.value},resetForm:function(){$("#fileUpload").val(""),this.uploadFileModel={channelKey:{id:"",key:"Select"},tag:"",referenceID:"",referenceType:"",file:void 0},this.fileName=""},errorPopupOk:function(){this.errors=[]},messagePopupOk:function(){this.messageModel=void 0},onFileSelection:function(e){var t=e.target.files||e.dataTransfer.files;console.log(t.length),this.uploadFileModel.file=t[0],this.fileName=t[0].name}}},f=p,h=(l("6865"),l("2877")),m=Object(h["a"])(f,a,n,!1,null,"48124b3b",null);t["default"]=m.exports},fad7:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("k-dialog",{attrs:{"max-width":400,title:"Errors",width:500},on:{close:e.okClick}},[l("div",{staticClass:"row c-danger ml-0"},[e.errors.length>0?l("p",{staticClass:"text-left"},[l("b",[e._v("Please correct the following error(s):")]),l("ul",e._l(e.errorList,(function(t,a){return l("li",{key:a},[e._v(e._s(t))])})),0)]):e._e()]),l("button",{staticClass:"k-button k-primary btn-popup",on:{click:e.okClick}},[e._v("Ok")])])},n=[],i=l("4f1f"),s={components:{"k-dialog":i["a"]},props:{errors:Array},data:function(){return{errorList:[]}},created:function(){this.$props.errors&&(this.errorList=this.$props.errors)},methods:{okClick:function(){this.$emit("cancel")}}},o=s,r=(l("bd6b"),l("2877")),c=Object(r["a"])(o,a,n,!1,null,"b5549958",null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-9f47f598.ce008165.js.map