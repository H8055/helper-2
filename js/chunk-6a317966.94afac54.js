(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a317966"],{2226:function(e,t,a){"use strict";var s=a("d311"),r=a.n(s);r.a},3550:function(e,t,a){},6762:function(e,t,a){"use strict";var s=a("5ca1"),r=a("c366")(!0);s(s.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"73b4":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"send-email"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"panel-heading"},[a("h2",{staticClass:"text-left"},[e._v("Insert Report Data")]),a("form",{staticClass:"k-form",on:{submit:function(t){return t.preventDefault(),e.validateForm(t)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("table",{staticClass:"table text-left mb-0 sm-font"},[e._m(0),a("tr",[e._m(1),a("td",[a("dropdownlist",{staticClass:"custom-input-width",style:{"font-size":"12px"},attrs:{"data-items":e.reportGenerationChannelKeys,"default-item":e.ddlDefault,"text-field":"key","data-item-id":"id"},on:{change:e.onChangeChannelKey},model:{value:e.insertReportModel.channelKey,callback:function(t){e.$set(e.insertReportModel,"channelKey",t)},expression:"insertReportModel.channelKey"}})],1)]),a("tr",[e._m(2),a("td",[a("k-input",{staticClass:"custom-input-width",attrs:{type:"text",name:"entityName",required:""},model:{value:e.insertReportModel.entityName,callback:function(t){e.$set(e.insertReportModel,"entityName",t)},expression:"insertReportModel.entityName"}})],1)])])]),a("div",{staticClass:"col-sm-6"},[a("table",{staticClass:"table text-left mb-0"},[a("tr",{staticClass:"text-left"},[a("td",[e._m(3),a("div",{staticClass:"d-md-inline d-flex"},[a("button",{staticClass:"k-button k-primary btn-add-row",attrs:{type:"button",tabindex:"0"},on:{click:e.addRow}},[e._v("Add Row")]),a("button",{staticClass:"k-button k-primary btn-remove-row",attrs:{id:"removeRowBtn",disabled:"",type:"button",tabindex:"0"},on:{click:e.removeRow}},[e._v("Remove Last Row")])])])]),e._m(4),a("tr",[a("div",{attrs:{id:"btnDiv"}},[a("button",{staticClass:"col-4 k-button k-primary btn-popup mr-10",attrs:{type:"submit",tabindex:"0"}},[e._v("Save")]),a("button",{staticClass:"col-4 k-button k-primary btn-popup",attrs:{type:"button",tabindex:"0"},on:{click:e.resetForm}},[e._v("Reset")])])])])])])])]),e.errors.length>0?a("error-popup",{attrs:{errors:e.errors},on:{cancel:e.errorPopupOk}}):e._e(),e.messageModel?a("message-popup",{attrs:{model:e.messageModel,responseStatus:e.messageModel.status},on:{cancel:e.messagePopupOk}}):e._e()],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("colgroup",[a("col",{staticStyle:{width:"100px"},attrs:{span:"1"}}),a("col",{staticStyle:{width:"100px"},attrs:{span:"1"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("label",[e._v("Channel Key"),a("span",{staticClass:"c-danger"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("label",[e._v("Entity name"),a("span",{staticClass:"c-danger"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v("Data"),a("span",{staticClass:"c-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",[a("div",{staticClass:"maxHeightTable"},[a("table",{attrs:{id:"dataTable"}},[a("tr",[a("td",[a("input",{staticClass:"k-textbox",attrs:{placeholder:"key",id:"dataPartKey",required:""}})]),a("td",[a("input",{staticClass:"k-textbox",attrs:{placeholder:"value",id:"dataPartValue",required:""}})])])])])])])}],n=(a("6762"),a("96cf"),a("3b8d")),o=a("bc3a"),i=a.n(o),l=a("5498"),c=a("a178"),d=a("fad7"),u=a("8fe2"),p={name:"InsertReportData",components:{"k-input":l["Input"],dropdownlist:c["a"],"error-popup":d["a"],"message-popup":u["a"]},data:function(){return{base_url:this.$config.reportApiUrl,base_url_management:this.$config.reportApiManagementUrl,reportGenerationChannelKeys:[],errors:[],ddlDefault:{id:"",key:"Select",name:"Select"},messageModel:void 0,insertReportModel:{channelKey:{id:"",key:"Select"},entityName:""}}},beforeMount:function(){this.getReportGenerationChannelKeys()},methods:{getReportGenerationChannelKeys:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get(this.base_url_management+"GetChannelKeys");case 3:t=e.sent,t.data.status?this.reportGenerationChannelKeys=t.data.result:this.reportGenerationChannelKeys=[],e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),validateForm:function(e){var t=[];this.insertReportModel.channelKey&&this.insertReportModel.channelKey.key&&"Select"==this.insertReportModel.channelKey.key&&(this.insertReportModel.channelKey=void 0);for(var a=$("#dataTable")[0],s=a.rows.length,r=0;r<s;r++){var n=a.rows[r],o=n.cells[0].childNodes[0].value.trim(),i=n.cells[1].childNodes[0].value.trim();""==o||""==i?t.push(!0):t.push(!1)}if(this.insertReportModel.channelKey&&this.insertReportModel.entityName&&!t.includes(!0))return this.insertReportData(),this.errors=[],!0;this.errors=[],this.insertReportModel.channelKey||this.errors.push("Please select a Channel Key."),this.insertReportModel.entityName&&""!=$.trim(this.insertReportModel.entityName)||this.errors.push("Please enter a Collection Name."),t.includes(!0)&&this.errors.push("Please enter the Data."),e.preventDefault()},insertReportData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s,r,n,o,l,c,d=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t={},a=$("#dataTable")[0],s=a.rows.length,r=0;r<s;r++)n=a.rows[r],o=n.cells[0].childNodes[0].value,l=n.cells[1].childNodes[0].value,t[o]=l;return c={entityName:this.insertReportModel.entityName,channelkey:this.insertReportModel.channelKey.key,collectionData:t},e.next=7,i.a.post(this.base_url_management+"InsertReportData",c).then((function(e){e.data.status?(d.resetForm(),d.messageModel=e.data):d.messageModel=e.data,console.log(e)}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onChangeChannelKey:function(e){this.insertReportModel.channelKey=e.target.value},resetForm:function(){this.insertReportModel={channelKey:{id:"",key:"Select"},entityName:""};for(var e=$("#dataTable")[0],t=e.rows.length,a=0;a<t;a++)this.removeRow();$("#dataPartKey").val(""),$("#dataPartValue").val("")},errorPopupOk:function(){this.errors=[]},addRow:function(){var e=$("#dataTable")[0],t=e.rows.length,a=e.insertRow(t),s=a.insertCell(0),r=document.createElement("input");r.type="text",r.placeholder="key"+t,r.setAttribute("class","k-textbox"),r.setAttribute("required",!0),s.appendChild(r);var n=a.insertCell(1),o=document.createElement("input");o.type="text",o.placeholder="value",o.setAttribute("class","k-textbox"),o.setAttribute("required",!0),n.appendChild(o);var i=document.getElementById("removeRowBtn");i.disabled&&i.removeAttribute("disabled")},removeRow:function(){try{var e=$("#dataTable")[0],t=e.rows.length;if(t>1&&(e.deleteRow(t-1),t--),1==t){var a=document.getElementById("removeRowBtn");a.setAttribute("disabled",!0)}}catch(s){console.log(s)}},messagePopupOk:function(){this.messageModel=void 0}}},h=p,m=(a("2226"),a("2877")),f=Object(m["a"])(h,s,r,!1,null,"6f4b4dae",null);t["default"]=f.exports},"8fe2":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("k-dialog",{attrs:{"max-width":400,title:e.title,width:500},on:{close:e.okClick}},[a("div",{staticClass:"row ml-0 text-left popup-align-text"},[e.model.message?a("p",[e._v(e._s(e.model.message))]):e._e(),null!=e.model.result&&e.model.result.fileUrl?a("p",[a("b",[e._v("File URL:")]),e._v(" "+e._s(e.model.result.fileUrl))]):e._e()]),a("button",{staticClass:"k-button k-primary btn-popup",on:{click:e.okClick}},[e._v("Ok")])])},r=[],n=a("4f1f"),o={components:{"k-dialog":n["a"]},data:function(){return{title:void 0,messageModel:{id:"",message:"",status:!1,fileUrl:""}}},props:{model:Object,responseStatus:Boolean},created:function(){void 0!=this.$props.responseStatus?this.title=this.$props.responseStatus?"Success":"Failure":this.title="Failure",this.$props.model&&(this.messageModel=this.$props.model)},methods:{okClick:function(){this.$emit("cancel")}}},i=o,l=(a("a609"),a("2877")),c=Object(l["a"])(i,s,r,!1,null,"1faa21f8",null);t["a"]=c.exports},a609:function(e,t,a){"use strict";var s=a("3550"),r=a.n(s);r.a},bd6b:function(e,t,a){"use strict";var s=a("bec9"),r=a.n(s);r.a},bec9:function(e,t,a){},d311:function(e,t,a){},fad7:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("k-dialog",{attrs:{"max-width":400,title:"Errors",width:500},on:{close:e.okClick}},[a("div",{staticClass:"row c-danger ml-0"},[e.errors.length>0?a("p",{staticClass:"text-left"},[a("b",[e._v("Please correct the following error(s):")]),a("ul",e._l(e.errorList,(function(t,s){return a("li",{key:s},[e._v(e._s(t))])})),0)]):e._e()]),a("button",{staticClass:"k-button k-primary btn-popup",on:{click:e.okClick}},[e._v("Ok")])])},r=[],n=a("4f1f"),o={components:{"k-dialog":n["a"]},props:{errors:Array},data:function(){return{errorList:[]}},created:function(){this.$props.errors&&(this.errorList=this.$props.errors)},methods:{okClick:function(){this.$emit("cancel")}}},i=o,l=(a("bd6b"),a("2877")),c=Object(l["a"])(i,s,r,!1,null,"b5549958",null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-6a317966.94afac54.js.map