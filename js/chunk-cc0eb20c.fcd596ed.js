(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc0eb20c"],{"05fb":function(t,e,a){},3550:function(t,e,a){},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},6762:function(t,e,a){"use strict";var r=a("5ca1"),n=a("c366")(!0);r(r.P,"Array",{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"6b54":function(t,e,a){"use strict";a("3846");var r=a("cb7c"),n=a("0bfb"),s=a("9e1e"),i="toString",o=/./[i],l=function(t){a("2aba")(RegExp.prototype,i,t,!0)};a("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?l((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?n.call(t):void 0)})):o.name!=i&&l((function(){return o.call(this)}))},"83c5":function(t,e,a){},"8fe2":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-dialog",{attrs:{"max-width":400,title:t.title,width:500},on:{close:t.okClick}},[a("div",{staticClass:"row ml-0 text-left popup-align-text"},[t.model.message?a("p",[t._v(t._s(t.model.message))]):t._e(),null!=t.model.result&&t.model.result.fileUrl?a("p",[a("b",[t._v("File URL:")]),t._v(" "+t._s(t.model.result.fileUrl))]):t._e()]),a("button",{staticClass:"k-button k-primary btn-popup",on:{click:t.okClick}},[t._v("Ok")])])},n=[],s=a("4f1f"),i={components:{"k-dialog":s["a"]},data:function(){return{title:void 0,messageModel:{id:"",message:"",status:!1,fileUrl:""}}},props:{model:Object,responseStatus:Boolean},created:function(){void 0!=this.$props.responseStatus?this.title=this.$props.responseStatus?"Success":"Failure":this.title="Failure",this.$props.model&&(this.messageModel=this.$props.model)},methods:{okClick:function(){this.$emit("cancel")}}},o=i,l=(a("a609"),a("2877")),c=Object(l["a"])(o,r,n,!1,null,"1faa21f8",null);e["a"]=c.exports},a609:function(t,e,a){"use strict";var r=a("3550"),n=a.n(r);n.a},bbb4:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"send-email"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"panel-heading"},[a("h2",{staticClass:"text-left"},[t._v("Generate Report Data")]),a("form",{staticClass:"k-form",on:{submit:function(e){return e.preventDefault(),t.validateForm(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("table",{staticClass:"table text-left mb-0 sm-font"},[t._m(0),a("tr",[t._m(1),a("td",[a("dropdownlist",{staticClass:"custom-input-width",style:{"font-size":"12px"},attrs:{"data-items":t.reportGenerationChannelKeys,"default-item":t.ddlDefault,"text-field":"key","data-item-id":"id"},on:{change:t.onChangeChannelKey},model:{value:t.generateReportModel.channelKey,callback:function(e){t.$set(t.generateReportModel,"channelKey",e)},expression:"generateReportModel.channelKey"}})],1)]),a("tr",[t._m(2),a("td",[a("k-input",{staticClass:"custom-input-width",attrs:{type:"text",name:"entityName",required:""},model:{value:t.generateReportModel.entityName,callback:function(e){t.$set(t.generateReportModel,"entityName",e)},expression:"generateReportModel.entityName"}})],1)])])]),a("div",{staticClass:"col-sm-6"},[a("table",{staticClass:"table text-left mb-0"},[a("tr",{staticClass:"text-left"},[a("td",[a("label",[t._v("Filters")]),a("div",{staticClass:"d-md-inline d-flex"},[a("button",{staticClass:"k-button k-primary btn-add-row",attrs:{id:"btnAddFilter",type:"button"},on:{click:t.openFilterPopup}},[t._v("Add Filters")])])])])])])]),a("div",{attrs:{id:"btnDiv"}},[a("button",{staticClass:"col-2 k-button k-primary btn-popup mr-10",attrs:{type:"submit",tabindex:"0"}},[t._v("Generate")]),a("button",{staticClass:"col-2 k-button k-primary btn-popup",attrs:{type:"button",tabindex:"0"},on:{click:t.resetForm}},[t._v("Reset")])])])]),t.errors.length>0?a("error-popup",{attrs:{errors:t.errors},on:{cancel:t.errorPopupOk}}):t._e(),t.filterData?a("filter-popup",{attrs:{dataItems:t.filterData},on:{cancel:t.cancelFilterPopup,saveFilters:t.saveFilters}}):t._e(),t.messageModel?a("message-popup",{attrs:{model:t.messageModel,responseStatus:t.messageModel.status},on:{cancel:t.messagePopupOk}}):t._e()],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("colgroup",[a("col",{staticStyle:{width:"100px"},attrs:{span:"1"}}),a("col",{staticStyle:{width:"100px"},attrs:{span:"1"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",[t._v("Channel Key"),a("span",{staticClass:"c-danger"},[t._v("*")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",[t._v("Entity name"),a("span",{staticClass:"c-danger"},[t._v("*")])])])}],s=(a("6b54"),a("96cf"),a("3b8d")),i=a("bc3a"),o=a.n(i),l=a("5498"),c=a("a178"),u=a("fad7"),d=a("8fe2"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-dialog",{attrs:{"max-width":400,title:"Add Filters"},on:{close:t.cancel}},[a("div",{staticClass:"row c-danger ml-0"},[t.errors.length>0?a("p",{staticClass:"text-left"},[a("b",[t._v("Please correct the following error(s):")]),a("ul",t._l(t.errors,(function(e,r){return a("li",{key:r},[t._v(t._s(e))])})),0)]):t._e()]),a("form",{staticClass:"k-form",on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("div",{staticStyle:{width:"50vw"}},[a("div",{staticClass:"form-group row",style:{marginBottom:"1rem"}},[a("table",{staticClass:"table text-left mb-0"},[a("tr",{staticClass:"text-left"},[a("td",[a("label",[t._v("Filters")]),a("div",{staticClass:"d-md-inline d-flex"},[a("button",{staticClass:"k-button k-primary btn-add-row",attrs:{type:"button",tabindex:"0"},on:{click:function(e){return t.addRow(null)}}},[t._v("Add Row")]),a("button",{staticClass:"k-button k-primary btn-remove-row",attrs:{id:"removeRowBtn",disabled:"",type:"button",tabindex:"0"},on:{click:t.removeRow}},[t._v("Remove Last Row")])])])]),a("tr",[a("td",[a("div",{staticClass:"maxHeightTable"},[a("table",{attrs:{id:"filterTable"}},[a("tr",[a("td",[a("input",{staticClass:"k-textbox",attrs:{placeholder:"Field Name",id:"dataPartKey",required:""}})]),a("td",[a("input",{staticClass:"k-textbox",attrs:{placeholder:"Operator",id:"dataPartOperator",required:""}})]),a("td",[a("input",{staticClass:"k-textbox",attrs:{placeholder:"Value",id:"dataPartValue",required:""}})]),a("td",[a("input",{staticClass:"k-textbox",attrs:{placeholder:"Data Type",id:"dataPartDataType",required:""}})])])])])])])])])]),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"k-button col-6 btn-popup",on:{click:t.cancel}},[t._v("Cancel")]),a("button",{staticClass:"k-button k-primary col-6 btn-popup mb-0",attrs:{type:"submit",tabindex:"0"}},[t._v("Save")])])])])},h=[],f=(a("6762"),a("4f1f")),m={components:{"k-input":l["Input"],"k-dialog":f["a"],"dialog-actions-bar":f["b"]},props:{dataItems:Array},data:function(){return{errors:[],filtersList:void 0}},created:function(){this.$props.dataItems&&(this.filtersList=this.$props.dataItems)},mounted:function(){if(this.filtersList.length>0&&($("#dataPartKey").val(this.filtersList[0].fieldName),$("#dataPartOperator").val(this.filtersList[0].operator),$("#dataPartValue").val(this.filtersList[0].value),$("#dataPartDataType").val(this.filtersList[0].dataType)),this.filtersList.length>1)for(var t=1;t<this.filtersList.length;t++)this.addRow(this.filtersList[t].fieldName,this.filtersList[t].operator,this.filtersList[t].value,this.filtersList[t].dataType)},methods:{cancel:function(){this.$emit("cancel")},save:function(t){console.log("SAVED");for(var e=[],a=[],r=$("#filterTable")[0],n=r.rows.length,s=0;s<n;s++){var i=r.rows[s],o=i.cells[0].childNodes[0].value.trim(),l=i.cells[1].childNodes[0].value.trim(),c=i.cells[2].childNodes[0].value.trim(),u=i.cells[3].childNodes[0].value.trim();if(""==o&&""==c&&""==l&&""==u)a.push(!0);else{var d={fieldName:o,operator:l,value:c,dataType:u};a.push(!1),e.push(d)}}a.includes(!0)?this.errors.push("Please enter all the Filter Data."):this.$emit("saveFilters",e),t.preventDefault()},addRow:function(t,e,a,r){var n=$("#filterTable")[0],s=n.rows.length,i=n.insertRow(s),o=i.insertCell(0),l=document.createElement("input");l.type="text",l.placeholder="Field Name "+s,l.setAttribute("class","k-textbox"),l.setAttribute("required",!0),t&&l.setAttribute("value",t),o.appendChild(l);var c=i.insertCell(1),u=document.createElement("input");u.type="text",u.placeholder="Operator",u.setAttribute("class","k-textbox"),u.setAttribute("required",!0),e&&u.setAttribute("value",e),c.appendChild(u);var d=i.insertCell(2),p=document.createElement("input");p.type="text",p.placeholder="Value",p.setAttribute("class","k-textbox"),p.setAttribute("required",!0),a&&p.setAttribute("value",a),d.appendChild(p);var h=i.insertCell(3),f=document.createElement("input");f.type="text",f.placeholder="Data Type",f.setAttribute("class","k-textbox"),f.setAttribute("required",!0),r&&f.setAttribute("value",r),h.appendChild(f);var m=document.getElementById("removeRowBtn");m.disabled&&m.removeAttribute("disabled")},removeRow:function(){try{var t=$("#filterTable")[0],e=t.rows.length;if(e>1&&(t.deleteRow(e-1),e--),1==e){var a=document.getElementById("removeRowBtn");a.setAttribute("disabled",!0)}}catch(r){console.log(r)}}}},b=m,g=(a("e73a"),a("2877")),v=Object(g["a"])(b,p,h,!1,null,"8587859a",null),y=v.exports,k=a("71c2"),C={name:"generateReportData",components:{"k-input":l["Input"],dropdownlist:c["a"],"error-popup":u["a"],"message-popup":d["a"],"filter-popup":y,Grid:k["a"]},data:function(){return{base_url:this.$config.reportApiUrl,base_url_management:this.$config.reportApiManagementUrl,reportGenerationChannelKeys:[],errors:[],filterData:void 0,filterList:[],ddlDefault:{id:"",key:"Select",name:"Select"},skip:0,take:10,pageSize:10,gridDataTotal:0,messageModel:void 0,reportGenerationData:[],columns:[],generateReportModel:{channelKey:{id:"",key:"Select"},entityName:""}}},computed:{result:{get:function(){return this.reportGenerationData.slice(this.skip,this.take+this.skip)}}},beforeMount:function(){this.getReportGenerationChannelKeys()},methods:{pageChangeHandler:function(t){this.skip=t.page.skip,this.take=t.page.take},getReportGenerationChannelKeys:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get(this.base_url_management+"GetChannelKeys");case 3:e=t.sent,e.data.status?this.reportGenerationChannelKeys=e.data.result:this.reportGenerationChannelKeys=[],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),validateForm:function(t){if(this.generateReportModel.channelKey&&this.generateReportModel.channelKey.key&&"Select"==this.generateReportModel.channelKey.key&&(this.generateReportModel.channelKey=void 0),this.generateReportModel.channelKey&&this.generateReportModel.entityName)return this.exportToExcel(),this.errors=[],!0;this.errors=[],this.generateReportModel.channelKey||this.errors.push("Please select a Channel Key."),this.generateReportModel.entityName&&""!=$.trim(this.generateReportModel.entityName)||this.errors.push("Please enter a Collection Name."),t.preventDefault()},generateReportData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={entityName:this.generateReportModel.entityName,Channelkey:this.generateReportModel.channelKey.key,filters:this.filterList},t.next=3,o.a.post(this.base_url_management+"getReportData",e).then((function(t){t.data.status?t.data.result.length>0?a.reportGenerationData=t.data.result:(a.reportGenerationData=[],t.data.status=!1,a.messageModel=t.data):(a.messageModel=t.data,a.reportGenerationData=[]),a.gridDataTotal=a.reportGenerationData.length,console.log(t)}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onChangeChannelKey:function(t){this.generateReportModel.channelKey=t.target.value},resetForm:function(){this.generateReportModel={channelKey:{id:"",key:"Select"},entityName:""},this.filterList=[],this.reportGenerationData=[]},errorPopupOk:function(){this.errors=[]},messagePopupOk:function(){this.messageModel=void 0},cancelFilterPopup:function(){this.filterData=void 0},openFilterPopup:function(){this.filterData=this.filterList},saveFilters:function(t){this.filterList=t,this.filterData=void 0},exportToExcel:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={entityName:this.generateReportModel.entityName,Channelkey:this.generateReportModel.channelKey.key,filters:this.filterList},t.next=3,o()({url:this.base_url_management+"GenerateReportDataExcelFile",method:"POST",responseType:"blob",data:e}).then((function(t){var e=t.headers,r=new Blob([t.data],{type:e["content-type"]}),n=document.createElement("a"),s=a.getFormattedDateTime();n.href=window.URL.createObjectURL(r),n.download="ReportData_"+s.toString(),document.body.appendChild(n),n.click(),document.body.removeChild(n),n=null}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getFormattedDateTime:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1).toString(),r=t.getDate()>=10?t.getDate():"0"+t.getDate(),n=t.getHours(),s=t.getMinutes(),i=t.getSeconds(),o=e+a+r+n+s+i;return o.toString()}}},x=C,_=(a("e9be"),Object(g["a"])(x,r,n,!1,null,"c81be832",null));e["default"]=_.exports},bd6b:function(t,e,a){"use strict";var r=a("bec9"),n=a.n(r);n.a},bec9:function(t,e,a){},e73a:function(t,e,a){"use strict";var r=a("83c5"),n=a.n(r);n.a},e9be:function(t,e,a){"use strict";var r=a("05fb"),n=a.n(r);n.a},fad7:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("k-dialog",{attrs:{"max-width":400,title:"Errors",width:500},on:{close:t.okClick}},[a("div",{staticClass:"row c-danger ml-0"},[t.errors.length>0?a("p",{staticClass:"text-left"},[a("b",[t._v("Please correct the following error(s):")]),a("ul",t._l(t.errorList,(function(e,r){return a("li",{key:r},[t._v(t._s(e))])})),0)]):t._e()]),a("button",{staticClass:"k-button k-primary btn-popup",on:{click:t.okClick}},[t._v("Ok")])])},n=[],s=a("4f1f"),i={components:{"k-dialog":s["a"]},props:{errors:Array},data:function(){return{errorList:[]}},created:function(){this.$props.errors&&(this.errorList=this.$props.errors)},methods:{okClick:function(){this.$emit("cancel")}}},o=i,l=(a("bd6b"),a("2877")),c=Object(l["a"])(o,r,n,!1,null,"b5549958",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-cc0eb20c.fcd596ed.js.map