(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab0d67e0"],{"11e9":function(e,t,a){var s=a("52a7"),n=a("4630"),i=a("6821"),l=a("6a99"),r=a("69a8"),o=a("c69a"),c=Object.getOwnPropertyDescriptor;t.f=a("9e1e")?c:function(e,t){if(e=i(e),t=l(t,!0),o)try{return c(e,t)}catch(a){}if(r(e,t))return n(!s.f.call(e,t),e[t])}},"1b8b":function(e,t,a){},"28a5":function(e,t,a){"use strict";var s=a("aae3"),n=a("cb7c"),i=a("ebd6"),l=a("0390"),r=a("9def"),o=a("5f1b"),c=a("520a"),d=a("79e5"),m=Math.min,u=[].push,p="split",h="length",f="lastIndex",v=4294967295,b=!d((function(){RegExp(v,"y")}));a("214f")("split",2,(function(e,t,a,d){var g;return g="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[h]||2!="ab"[p](/(?:ab)*/)[h]||4!="."[p](/(.?)(.?)/)[h]||"."[p](/()()/)[h]>1||""[p](/.?/)[h]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!s(e))return a.call(n,e,t);var i,l,r,o=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,p=void 0===t?v:t>>>0,b=new RegExp(e.source,d+"g");while(i=c.call(b,n)){if(l=b[f],l>m&&(o.push(n.slice(m,i.index)),i[h]>1&&i.index<n[h]&&u.apply(o,i.slice(1)),r=i[0][h],m=l,o[h]>=p))break;b[f]===i.index&&b[f]++}return m===n[h]?!r&&b.test("")||o.push(""):o.push(n.slice(m)),o[h]>p?o.slice(0,p):o}:"0"[p](void 0,0)[h]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,s){var n=e(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,n,s):g.call(String(n),a,s)},function(e,t){var s=d(g,e,this,t,g!==a);if(s.done)return s.value;var c=n(e),u=String(this),p=i(c,RegExp),h=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(b?"y":"g"),E=new p(b?c:"^(?:"+c.source+")",f),M=void 0===t?v:t>>>0;if(0===M)return[];if(0===u.length)return null===o(E,u)?[u]:[];var y=0,_=0,k=[];while(_<u.length){E.lastIndex=b?_:0;var x,C=o(E,b?u:u.slice(_));if(null===C||(x=m(r(E.lastIndex+(b?0:_)),u.length))===y)_=l(u,_,h);else{if(k.push(u.slice(y,_)),k.length===M)return k;for(var w=1;w<=C.length-1;w++)if(k.push(C[w]),k.length===M)return k;_=y=x}}return k.push(u.slice(y)),k}]}))},3550:function(e,t,a){},"3b2b":function(e,t,a){var s=a("7726"),n=a("5dbc"),i=a("86cc").f,l=a("9093").f,r=a("aae3"),o=a("0bfb"),c=s.RegExp,d=c,m=c.prototype,u=/a/g,p=/a/g,h=new c(u)!==u;if(a("9e1e")&&(!h||a("79e5")((function(){return p[a("2b4c")("match")]=!1,c(u)!=u||c(p)==p||"/a/i"!=c(u,"i")})))){c=function(e,t){var a=this instanceof c,s=r(e),i=void 0===t;return!a&&s&&e.constructor===c&&i?e:n(h?new d(s&&!i?e.source:e,t):d((s=e instanceof c)?e.source:e,s&&i?o.call(e):t),a?this:m,c)};for(var f=function(e){e in c||i(c,e,{configurable:!0,get:function(){return d[e]},set:function(t){d[e]=t}})},v=l(d),b=0;v.length>b;)f(v[b++]);m.constructor=c,c.prototype=m,a("2aba")(s,"RegExp",c)}a("7a56")("RegExp")},4917:function(e,t,a){"use strict";var s=a("cb7c"),n=a("9def"),i=a("0390"),l=a("5f1b");a("214f")("match",1,(function(e,t,a,r){return[function(a){var s=e(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,s):new RegExp(a)[t](String(s))},function(e){var t=r(a,e,this);if(t.done)return t.value;var o=s(e),c=String(this);if(!o.global)return l(o,c);var d=o.unicode;o.lastIndex=0;var m,u=[],p=0;while(null!==(m=l(o,c))){var h=String(m[0]);u[p]=h,""===h&&(o.lastIndex=i(c,n(o.lastIndex),d)),p++}return 0===p?null:u}]}))},"5dbc":function(e,t,a){var s=a("d3f4"),n=a("8b97").set;e.exports=function(e,t,a){var i,l=t.constructor;return l!==a&&"function"==typeof l&&(i=l.prototype)!==a.prototype&&s(i)&&n&&n(e,i),e}},"655f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"send-email"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"panel-heading page-max-height"},[a("h2",{staticClass:"text-left"},[e._v("Send Email")]),a("form",{staticClass:"k-form",on:{submit:function(t){return t.preventDefault(),e.validateForm(t)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("table",{staticClass:"table text-left mb-0 sm-font"},[e._m(0),a("tr",[e._m(1),a("td",[a("dropdownlist",{staticClass:"custom-input-width",style:{"font-size":"12px"},attrs:{"data-items":e.emailChannelKeys,"default-item":e.ddlDefault,"text-field":"key","data-item-id":"id"},on:{change:e.onChangeChannelKey},model:{value:e.sendEmailModel.channelKey,callback:function(t){e.$set(e.sendEmailModel,"channelKey",t)},expression:"sendEmailModel.channelKey"}})],1)]),a("tr",[e._m(2),a("td",[a("dropdownlist",{staticClass:"custom-input-width",style:{"font-size":"12px"},attrs:{"data-items":e.emailTemplates,"default-item":e.ddlDefault,"text-field":"name","data-item-id":"id"},on:{change:e.onChangeTemplateName},model:{value:e.sendEmailModel.templateName,callback:function(t){e.$set(e.sendEmailModel,"templateName",t)},expression:"sendEmailModel.templateName"}})],1)]),a("tr",[e._m(3),a("td",[a("k-input",{staticClass:"custom-input-width",attrs:{type:"text",name:"variant"},model:{value:e.sendEmailModel.variant,callback:function(t){e.$set(e.sendEmailModel,"variant",t)},expression:"sendEmailModel.variant"}})],1)]),a("tr",[e._m(4),a("td",[a("k-input",{staticClass:"custom-input-width",attrs:{type:"text",name:"sender"},model:{value:e.sendEmailModel.sender,callback:function(t){e.$set(e.sendEmailModel,"sender",t)},expression:"sendEmailModel.sender"}})],1)]),a("tr",[e._m(5),a("td",[a("k-input",{staticClass:"custom-input-width",attrs:{type:"text",name:"recipients",placeholder:"Comma seperated if multiple recipients",required:""},model:{value:e.sendEmailModel.recipients,callback:function(t){e.$set(e.sendEmailModel,"recipients",t)},expression:"sendEmailModel.recipients"}})],1)]),a("tr",[e._m(6),a("td",[a("k-input",{staticClass:"custom-input-width",attrs:{type:"text",name:"subject"},model:{value:e.sendEmailModel.subject,callback:function(t){e.$set(e.sendEmailModel,"subject",t)},expression:"sendEmailModel.subject"}})],1)]),a("tr",[e._m(7),a("td",[a("k-input",{staticClass:"custom-input-width",attrs:{type:"text",name:"tag"},model:{value:e.sendEmailModel.tag,callback:function(t){e.$set(e.sendEmailModel,"tag",t)},expression:"sendEmailModel.tag"}})],1)])])]),a("div",{staticClass:"col-sm-6"},[a("table",{staticClass:"table text-left mb-0"},[a("tr",[a("td",[e.emailTemplateLabel?a("div",{attrs:{id:"templateDiv"}},[a("h6",[e._v("Template")]),a("div",{staticClass:"email-template-div"},[a("span",[e._v(e._s(e.emailTemplateLabel))])])]):e._e()])]),a("tr",{staticClass:"text-left"},[e.emailTemplateLabel&&this.numberOfKeys>0?a("td",[e._m(8)]):e._e()]),e._m(9)])])]),a("div",{attrs:{id:"btnDiv"}},[a("button",{staticClass:"col-4 k-button k-primary btn-popup mr-10",attrs:{type:"submit",tabindex:"0"}},[e._v("Send")]),a("button",{staticClass:"col-4 k-button k-primary btn-popup",attrs:{type:"button",tabindex:"0"},on:{click:e.resetForm}},[e._v("Reset")])])])]),e.errors.length>0?a("error-popup",{attrs:{errors:e.errors},on:{cancel:e.errorPopupOk}}):e._e(),e.messageModel?a("message-popup",{attrs:{model:e.messageModel,responseStatus:e.messageModel.status},on:{cancel:e.messagePopupOk}}):e._e()],1)])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("colgroup",[a("col",{staticStyle:{width:"100px"},attrs:{span:"1"}}),a("col",{staticStyle:{width:"100px"},attrs:{span:"1"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("label",[e._v("Channel Key"),a("span",{staticClass:"c-danger"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("label",[e._v("Template Name"),a("span",{staticClass:"c-danger"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("label",[e._v("Variant")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("label",[e._v("Sender")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("label",[e._v("Recipients"),a("span",{staticClass:"c-danger"},[e._v("*")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("label",[e._v("Subject")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("label",[e._v("Tag")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v("Message Parts"),a("span",{staticClass:"c-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",[a("div",{staticClass:"maxHeightTable"},[a("table",{attrs:{id:"messagePartsTable"}})])])])}],i=(a("a481"),a("ac6a"),a("4917"),a("3b2b"),a("28a5"),a("6762"),a("7f7f"),a("96cf"),a("3b8d")),l=a("bc3a"),r=a.n(l),o=a("5498"),c=a("a178"),d=a("fad7"),m=a("8fe2"),u={name:"SendEmail",components:{"k-input":o["Input"],dropdownlist:c["a"],"error-popup":d["a"],"message-popup":m["a"]},data:function(){return{base_url:this.$config.emailApiUrl,base_url_management:this.$config.emailApiManagementUrl,emailChannelKeys:[],emailTemplates:[],errors:[],ddlDefault:{id:"",key:"Select",name:"Select"},messageModel:void 0,emailTemplateLabel:void 0,numberOfKeys:0,sendEmailModel:{channelKey:{id:"",key:"Select"},templateName:{id:"",name:"Select"},tag:"",subject:"",userName:"",messageBody:"",variant:"",sender:"",recipients:""}}},beforeMount:function(){this.getEmailChannelKeys()},methods:{getEmailChannelKeys:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.a.get(this.base_url_management+"GetEmailChannelKeys");case 3:t=e.sent,t.data.status?this.emailChannelKeys=t.data.result:this.emailChannelKeys=[],e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),validateForm:function(e){var t=[];this.sendEmailModel.channelKey&&this.sendEmailModel.channelKey.key&&"Select"==this.sendEmailModel.channelKey.key&&(this.sendEmailModel.channelKey=void 0),this.sendEmailModel.templateName&&this.sendEmailModel.templateName.name&&"Select"==this.sendEmailModel.templateName.name&&(this.sendEmailModel.templateName=void 0),""==$.trim(this.sendEmailModel.recipients)&&(this.sendEmailModel.recipients=void 0),""==$.trim(this.sendEmailModel.subject)&&(this.sendEmailModel.subject=void 0),""==$.trim(this.sendEmailModel.tag)&&(this.sendEmailModel.tag=void 0),""==$.trim(this.sendEmailModel.variant)&&(this.sendEmailModel.variant=void 0);for(var a=$("#messagePartsTable")[0],s=a.rows.length,n=0;n<s;n++){var i=a.rows[n],l=i.cells[0].childNodes[0].value.trim(),r=i.cells[1].childNodes[0].value.trim();""==l||""==r?t.push(!0):t.push(!1)}if(this.sendEmailModel.channelKey&&this.sendEmailModel.templateName&&!t.includes(!0))return this.sendEmail(),this.errors=[],!0;this.errors=[],this.sendEmailModel.channelKey||this.errors.push("Please select a Channel Key."),this.sendEmailModel.templateName||this.errors.push("Please select a Template Name."),this.sendEmailModel.recipients||this.errors.push("Please enter a Recipient."),t.includes(!0)&&this.errors.push("Please enter the Message Parts."),e.preventDefault()},sendEmail:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,s,n,i,l,o,c,d,m=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t={},a=$("#messagePartsTable")[0],s=a.rows.length,this.sendEmailModel.variant=this.sendEmailModel.variant?this.sendEmailModel.variant:"",this.sendEmailModel.tag=this.sendEmailModel.tag?this.sendEmailModel.tag:"",this.sendEmailModel.subject=this.sendEmailModel.subject?this.sendEmailModel.subject:"",this.sendEmailModel.referenceType=this.sendEmailModel.referenceType?this.sendEmailModel.referenceType:"",n=this.sendEmailModel.recipients.split(",").filter((function(e){return null!=e&&""!=e&&" "!=e})),i=0;i<s;i++)l=a.rows[i],o=l.cells[0].childNodes[0].value,c=l.cells[1].childNodes[0].value,t[o]=c;return d={templateName:this.sendEmailModel.templateName.name,Channelkey:this.sendEmailModel.channelKey.key,variant:this.sendEmailModel.variant,sender:this.sendEmailModel.sender,recipients:n,subject:this.sendEmailModel.subject,messageParts:t,Tag:this.sendEmailModel.tag},e.next=12,r.a.post(this.base_url_management+"SendMail",d).then((function(e){e.data.status?(m.resetForm(),m.messageModel=e.data):m.messageModel=e.data,console.log(e)}));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onChangeChannelKey:function(e){var t=this;this.sendEmailModel.channelKey=e.target.value,this.sendEmailModel.channelKey&&"Select"!=this.sendEmailModel.channelKey.key?r.a.get(this.base_url_management+"GetEmailTemplatesByChannelID/"+this.sendEmailModel.channelKey.id).then((function(e){null!=e.data.result&&e.data.result.length>0?t.emailTemplates=e.data.result:t.emailTemplates=[],t.sendEmailModel.templateName.name="Select",console.log(e.data.result)})):(this.emailTemplates=[],this.sendEmailModel.templateName.name="Select"),this.emailTemplateLabel=void 0,$("#messagePartsTable tr").remove(),this.numberOfKeys=0},onChangeTemplateName:function(e){var t=this;this.sendEmailModel.templateName=e.target.value,"Select"!=this.sendEmailModel.templateName.name?r.a.get(this.base_url_management+"GetEmailTemplateByID/"+this.sendEmailModel.templateName.id).then((function(e){e.data.status?(t.emailTemplateLabel=e.data.result.messageTemplate,$("#messagePartsTable tr").remove(),t.numberOfKeys=0,t.createMessagePartsRows()):(t.emailTemplateLabel=void 0,$("#messagePartsTable tr").remove())})):(this.emailTemplateLabel=void 0,$("#messagePartsTable tr").remove())},resetForm:function(){this.emailTemplates=[],this.sendEmailModel={channelKey:{id:"",key:"Select"},templateName:{id:"",name:"Select"},tag:"",subject:"",variant:"",sender:"",recipients:""},this.emailTemplateLabel=void 0,$("#messagePartsTable tr").remove(),this.numberOfKeys=0},errorPopupOk:function(){this.errors=[]},addRow:function(e){var t=$("#messagePartsTable")[0],a=t.rows.length,s=a,n=t.insertRow(s),i=n.insertCell(0),l=document.createElement("input");l.type="text",l.setAttribute("class","k-textbox"),l.setAttribute("disabled",!0),l.setAttribute("value",e),i.appendChild(l);var r=n.insertCell(1),o=document.createElement("input");o.type="text",o.placeholder="value",o.setAttribute("class","k-textbox"),o.setAttribute("required",!0),r.appendChild(o)},createMessagePartsRows:function(){var e=this,t=new RegExp(/\{(.*?)\}/g),a=this.emailTemplateLabel.match(t);a&&null!=a&&(this.numberOfKeys=a.length,a.forEach((function(t){t=t.replace(/[^\w\s]/gi,""),e.addRow(t)})))},messagePopupOk:function(){this.messageModel=void 0}}},p=u,h=(a("cd90"),a("2877")),f=Object(h["a"])(p,s,n,!1,null,"ac3c780a",null);t["default"]=f.exports},6762:function(e,t,a){"use strict";var s=a("5ca1"),n=a("c366")(!0);s(s.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"8b97":function(e,t,a){var s=a("d3f4"),n=a("cb7c"),i=function(e,t){if(n(e),!s(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,s){try{s=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),s(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,a){return i(e,a),t?e.__proto__=a:s(e,a),e}}({},!1):void 0),check:i}},"8fe2":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("k-dialog",{attrs:{"max-width":400,title:e.title,width:500},on:{close:e.okClick}},[a("div",{staticClass:"row ml-0 text-left popup-align-text"},[e.model.message?a("p",[e._v(e._s(e.model.message))]):e._e(),null!=e.model.result&&e.model.result.fileUrl?a("p",[a("b",[e._v("File URL:")]),e._v(" "+e._s(e.model.result.fileUrl))]):e._e()]),a("button",{staticClass:"k-button k-primary btn-popup",on:{click:e.okClick}},[e._v("Ok")])])},n=[],i=a("4f1f"),l={components:{"k-dialog":i["a"]},data:function(){return{title:void 0,messageModel:{id:"",message:"",status:!1,fileUrl:""}}},props:{model:Object,responseStatus:Boolean},created:function(){void 0!=this.$props.responseStatus?this.title=this.$props.responseStatus?"Success":"Failure":this.title="Failure",this.$props.model&&(this.messageModel=this.$props.model)},methods:{okClick:function(){this.$emit("cancel")}}},r=l,o=(a("a609"),a("2877")),c=Object(o["a"])(r,s,n,!1,null,"1faa21f8",null);t["a"]=c.exports},9093:function(e,t,a){var s=a("ce10"),n=a("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,n)}},a609:function(e,t,a){"use strict";var s=a("3550"),n=a.n(s);n.a},aae3:function(e,t,a){var s=a("d3f4"),n=a("2d95"),i=a("2b4c")("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==n(e))}},ac6a:function(e,t,a){for(var s=a("cadf"),n=a("0d58"),i=a("2aba"),l=a("7726"),r=a("32e9"),o=a("84f2"),c=a("2b4c"),d=c("iterator"),m=c("toStringTag"),u=o.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=n(p),f=0;f<h.length;f++){var v,b=h[f],g=p[b],E=l[b],M=E&&E.prototype;if(M&&(M[d]||r(M,d,u),M[m]||r(M,m,b),o[b]=u,g))for(v in s)M[v]||i(M,v,s[v],!0)}},bd6b:function(e,t,a){"use strict";var s=a("bec9"),n=a.n(s);n.a},bec9:function(e,t,a){},cd90:function(e,t,a){"use strict";var s=a("1b8b"),n=a.n(s);n.a},fad7:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("k-dialog",{attrs:{"max-width":400,title:"Errors",width:500},on:{close:e.okClick}},[a("div",{staticClass:"row c-danger ml-0"},[e.errors.length>0?a("p",{staticClass:"text-left"},[a("b",[e._v("Please correct the following error(s):")]),a("ul",e._l(e.errorList,(function(t,s){return a("li",{key:s},[e._v(e._s(t))])})),0)]):e._e()]),a("button",{staticClass:"k-button k-primary btn-popup",on:{click:e.okClick}},[e._v("Ok")])])},n=[],i=a("4f1f"),l={components:{"k-dialog":i["a"]},props:{errors:Array},data:function(){return{errorList:[]}},created:function(){this.$props.errors&&(this.errorList=this.$props.errors)},methods:{okClick:function(){this.$emit("cancel")}}},r=l,o=(a("bd6b"),a("2877")),c=Object(o["a"])(r,s,n,!1,null,"b5549958",null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-ab0d67e0.2bb1f6ce.js.map