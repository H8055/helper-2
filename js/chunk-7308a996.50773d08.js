(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7308a996"],{"058b":function(t,e,n){},"11e9":function(t,e,n){var i=n("52a7"),a=n("4630"),r=n("6821"),s=n("6a99"),o=n("69a8"),l=n("c69a"),c=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?c:function(t,e){if(t=r(t),e=s(e,!0),l)try{return c(t,e)}catch(n){}if(o(t,e))return a(!i.f.call(t,e),t[e])}},1368:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auditEntities"},[n("div",{staticClass:"container-fluid"},[t._m(0),n("form",{staticClass:"panel-heading p-0 search-criteria",on:{submit:function(e){return e.preventDefault(),t.validateForm(e)}}},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table mb-0 text-left"},[n("col",{staticStyle:{width:"120px"},attrs:{span:"1"}}),n("col",{staticStyle:{width:"100px"},attrs:{span:"1"}}),n("col",{staticStyle:{width:"115px"},attrs:{span:"1"}}),n("col",{staticStyle:{width:"100px"},attrs:{span:"1"}}),n("col",{staticStyle:{width:"70px"},attrs:{span:"1"}}),n("tr",[t._m(1),n("td",[n("dropdownlist",{style:{"font-size":"12px"},attrs:{"data-items":t.channelKeys,"default-item":t.ddlDefault,"text-field":"channelKey","data-item-id":"id"},on:{change:t.onChangeApplicationKey},model:{value:t.channelKeyModel,callback:function(e){t.channelKeyModel=e},expression:"channelKeyModel"}})],1),t._m(2),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tags,expression:"tags"}],staticClass:"align-input",attrs:{type:"text",placeholder:"Comma seperated if multiple",required:""},domProps:{value:t.tags},on:{input:function(e){e.target.composing||(t.tags=e.target.value)}}})]),t._m(3),n("td")])])])]),n("div",[n("Grid",{ref:"grid",style:{height:"53vh"},attrs:{id:"notificationsGrid","data-items":t.result,"no-records":!0,total:t.gridDataTotal,pageable:!0,"page-size":t.pageSize,skip:t.skip,take:t.take,resizable:!0,columns:t.columns},on:{pagechange:t.pageChangeHandler},scopedSlots:t._u([{key:"customCommandTemplate",fn:function(e){var i=e.props;return[n("custom-command-cell",{attrs:{"data-item":i.dataItem,hideUpdate:!0},on:{remove:t.confirmDeletePopup}})]}}])})],1)]),t.errors.length>0?n("error-popup",{attrs:{errors:t.errors},on:{cancel:t.errorPopupOk}}):t._e(),t.deleteModel?n("confirmation-popup",{attrs:{"data-item":t.deleteModel},on:{confirm:t.deleteNotification,cancel:t.cancelConfirmation}}):t._e(),t.messageModel?n("message-popup",{attrs:{model:t.messageModel,responseStatus:t.messageModel.status},on:{cancel:t.messagePopupOk}}):t._e()],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel-heading"},[n("h2",{staticClass:"text-left"},[t._v("Notifications")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("label",[t._v("Channel Key"),n("span",{staticClass:"c-danger"},[t._v("*")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("label",[t._v("Tags"),n("span",{staticClass:"c-danger"},[t._v("*")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("button",{staticClass:"k-button k-secondary",attrs:{type:"submit",value:"Search"}},[n("i",{staticClass:"fa fa-search"}),t._v("Search\n      ")])])}],r=(n("28a5"),n("96cf"),n("3b8d")),s=n("71c2"),o=n("a178"),l=n("fad7"),c=n("bc3a"),u=n.n(c),d=n("8fe2"),p=n("6a84"),f=n("8129"),h={name:"Notifications",components:{Grid:s["a"],dropdownlist:o["a"],"error-popup":l["a"],"message-popup":d["a"],"confirmation-popup":p["a"],"custom-command-cell":f["a"]},beforeMount:function(){this.getChannelKeys()},mounted:function(){},computed:{result:{get:function(){return this.notificationList.slice(this.skip,this.take+this.skip)}}},data:function(){return{base_url:this.$config.notificationApiUrl,base_url_management:this.$config.notificationApiManagementUrl,skip:0,take:10,pageSize:10,messageModel:void 0,gridDataTotal:0,tempAppKey:void 0,channelKeyModel:void 0,deleteModel:void 0,errors:[],tags:void 0,notificationList:[],channelKeys:[],columns:[{field:"channelKey",editable:!1,title:"Channel Key"},{field:"message",editable:!1,title:"Message"},{field:"title",editable:!1,title:"Title"},{field:"isAcknowledgementRequired",editable:!1,title:"Is Acknowledgement Required"},{field:"tag",editable:!1,title:"Tag"},{field:"expirationDate",editable:!1,title:"Expiration Date"},{field:"severity",editable:!1,title:"Severity",cell:this.modifySeverityColumn},{field:"action",editable:!1,title:"Action"},{field:"allowDeletion",editable:!1,title:"AllowDeletion"},{field:"icon",editable:!1,title:"Icon"},{field:"clickAction",editable:!1,title:"Click Action"},{field:"createdOn",editable:!1,title:"CreatedOn"},{cell:"customCommandTemplate"}],ddlDefault:{id:"",channelKey:"Select"}}},methods:{pageChangeHandler:function(t){this.skip=t.page.skip,this.take=t.page.take},getNotifications:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e=this.tags.split(",").filter((function(t){return""!=t&&" "!=t})),u.a.post(this.base_url_management+"GetNotifications/"+this.channelKeyModel.channelKey,e).then((function(t){null!=t.data.result?n.notificationList=t.data.result:n.notificationList=[],n.gridDataTotal=n.notificationList.length}))}catch(i){this.messageModel=i.response.data}case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getChannelKeys:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get(this.base_url_management+"GetChannelKeys").then((function(t){e.channelKeys=t.data.result,console.log(t.data.result)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),this.messageModel=t.t0.response.data;case 8:case"end":return t.stop()}}),t,this,[[0,5]])})));function e(){return t.apply(this,arguments)}return e}(),onChangeApplicationKey:function(t){console.log("change",t.target.value),this.tempAppKey=t.target.value},validateForm:function(t){if(this.channelKeyModel&&"Select"==this.channelKeyModel.channelKey&&(this.channelKeyModel=void 0),this.tags&&""==$.trim(this.tags)&&(this.tags=void 0),this.errors=[],this.channelKeyModel&&this.tags)return this.getNotifications(),this.errors=[],!0;this.channelKeyModel||this.errors.push("Please select a Channel Key."),this.tags||this.errors.push("Please enter a tag."),t.preventDefault()},errorPopupOk:function(){this.errors=[]},messagePopupOk:function(){this.messageModel=void 0},confirmDeletePopup:function(t){this.deleteModel=this.cloneProduct(t)},deleteNotification:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("deleteNotification"),t.prev=1,t.next=4,u.a.post(this.base_url_management+"DeleteNotification/"+e.id).then((function(t){n.getNotifications(),console.log(t)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),this.messageModel=t.t0.response.data;case 9:this.deleteModel=void 0;case 10:case"end":return t.stop()}}),t,this,[[1,6]])})));function e(e){return t.apply(this,arguments)}return e}(),cancelConfirmation:function(){this.deleteModel=void 0},cloneProduct:function(t){return Object.assign({},t)},modifySeverityColumn:function(t,e,n,i){return t("td",[0==n.dataItem.severity?"Low":"High"])}}},m=h,g=(n("dfe3"),n("2877")),v=Object(g["a"])(m,i,a,!1,null,"08297e72",null);e["default"]=v.exports},"28a5":function(t,e,n){"use strict";var i=n("aae3"),a=n("cb7c"),r=n("ebd6"),s=n("0390"),o=n("9def"),l=n("5f1b"),c=n("520a"),u=n("79e5"),d=Math.min,p=[].push,f="split",h="length",m="lastIndex",g=4294967295,v=!u((function(){RegExp(g,"y")}));n("214f")("split",2,(function(t,e,n,u){var b;return b="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[h]||2!="ab"[f](/(?:ab)*/)[h]||4!="."[f](/(.?)(.?)/)[h]||"."[f](/()()/)[h]>1||""[f](/.?/)[h]?function(t,e){var a=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(a,t,e);var r,s,o,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,f=void 0===e?g:e>>>0,v=new RegExp(t.source,u+"g");while(r=c.call(v,a)){if(s=v[m],s>d&&(l.push(a.slice(d,r.index)),r[h]>1&&r.index<a[h]&&p.apply(l,r.slice(1)),o=r[0][h],d=s,l[h]>=f))break;v[m]===r.index&&v[m]++}return d===a[h]?!o&&v.test("")||l.push(""):l.push(a.slice(d)),l[h]>f?l.slice(0,f):l}:"0"[f](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var a=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,a,i):b.call(String(a),n,i)},function(t,e){var i=u(b,t,this,e,b!==n);if(i.done)return i.value;var c=a(t),p=String(this),f=r(c,RegExp),h=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),y=new f(v?c:"^(?:"+c.source+")",m),_=void 0===e?g:e>>>0;if(0===_)return[];if(0===p.length)return null===l(y,p)?[p]:[];var k=0,C=0,x=[];while(C<p.length){y.lastIndex=v?C:0;var w,N=l(y,v?p:p.slice(C));if(null===N||(w=d(o(y.lastIndex+(v?0:C)),p.length))===k)C=s(p,C,h);else{if(x.push(p.slice(k,C)),x.length===_)return x;for(var S=1;S<=N.length-1;S++)if(x.push(N[S]),x.length===_)return x;C=k=w}}return x.push(p.slice(k)),x}]}))},3550:function(t,e,n){},"5dbc":function(t,e,n){var i=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var r,s=e.constructor;return s!==n&&"function"==typeof s&&(r=s.prototype)!==n.prototype&&i(r)&&a&&a(t,r),t}},"6a84":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{attrs:{"max-width":400,title:"Confirmation",width:500},on:{close:t.cancel}},[n("div",[this.model.name?n("p",{staticClass:"text-left"},[t._v("Are you sure you want to delete "+t._s(this.model.name)+"?")]):this.model.entityName?n("p",{staticClass:"text-left"},[t._v("Are you sure you want to delete "+t._s(this.model.entityName)+"?")]):n("p",{staticClass:"text-left"},[t._v("Are you sure you want to delete "+t._s(this.model.key)+"?")])]),n("button",{staticClass:"k-button k-primary btn-popup mr-10",on:{click:t.cancel}},[t._v("Cancel")]),n("button",{staticClass:"k-button k-primary btn-popup",on:{click:t.confirm}},[t._v("Confirm")])])},a=[],r=n("4f1f"),s={components:{"k-dialog":r["a"]},props:{dataItem:Object},data:function(){return{model:void 0}},created:function(){this.$props.dataItem&&(this.model=this.$props.dataItem)},methods:{cancel:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm",this.model)}}},o=s,l=n("2877"),c=Object(l["a"])(o,i,a,!1,null,null,null);e["a"]=c.exports},8129:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticClass:"k-command-cell",attrs:{role:"gridcell"}},[t.hideUpdateBtn?t._e():n("button",{staticClass:"btn btn-primary-outline k-grid-edit-command",on:{click:t.editHandler}},[t._m(0)]),n("button",{staticClass:"btn btn-primary-outline k-grid-remove-command",on:{click:t.removeHandler}},[t._m(1)])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h5",[n("i",{staticClass:"far fa-edit"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h5",[n("i",{staticClass:"far fa-trash-alt "})])}],r=(n("c5f6"),{data:function(){return{name:void 0,hideUpdateBtn:!1}},props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String,hideUpdate:Boolean},created:function(){this.$props.hideUpdate&&(this.hideUpdateBtn=this.$props.hideUpdate)},methods:{editHandler:function(){this.$emit("edit",this.dataItem)},removeHandler:function(){this.$emit("remove",this.dataItem)}}}),s=r,o=n("2877"),l=Object(o["a"])(s,i,a,!1,null,null,null);e["a"]=l.exports},"8b97":function(t,e,n){var i=n("d3f4"),a=n("cb7c"),r=function(t,e){if(a(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:r}},"8fe2":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{attrs:{"max-width":400,title:t.title,width:500},on:{close:t.okClick}},[n("div",{staticClass:"row ml-0 text-left popup-align-text"},[t.model.message?n("p",[t._v(t._s(t.model.message))]):t._e(),null!=t.model.result&&t.model.result.fileUrl?n("p",[n("b",[t._v("File URL:")]),t._v(" "+t._s(t.model.result.fileUrl))]):t._e()]),n("button",{staticClass:"k-button k-primary btn-popup",on:{click:t.okClick}},[t._v("Ok")])])},a=[],r=n("4f1f"),s={components:{"k-dialog":r["a"]},data:function(){return{title:void 0,messageModel:{id:"",message:"",status:!1,fileUrl:""}}},props:{model:Object,responseStatus:Boolean},created:function(){void 0!=this.$props.responseStatus?this.title=this.$props.responseStatus?"Success":"Failure":this.title="Failure",this.$props.model&&(this.messageModel=this.$props.model)},methods:{okClick:function(){this.$emit("cancel")}}},o=s,l=(n("a609"),n("2877")),c=Object(l["a"])(o,i,a,!1,null,"1faa21f8",null);e["a"]=c.exports},9093:function(t,e,n){var i=n("ce10"),a=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},a609:function(t,e,n){"use strict";var i=n("3550"),a=n.n(i);a.a},aa77:function(t,e,n){var i=n("5ca1"),a=n("be13"),r=n("79e5"),s=n("fdef"),o="["+s+"]",l="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(t,e,n){var a={},o=r((function(){return!!s[t]()||l[t]()!=l})),c=a[t]=o?e(p):s[t];n&&(a[n]=c),i(i.P+i.F*o,"String",a)},p=d.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},aae3:function(t,e,n){var i=n("d3f4"),a=n("2d95"),r=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==a(t))}},bd6b:function(t,e,n){"use strict";var i=n("bec9"),a=n.n(i);a.a},bec9:function(t,e,n){},c5f6:function(t,e,n){"use strict";var i=n("7726"),a=n("69a8"),r=n("2d95"),s=n("5dbc"),o=n("6a99"),l=n("79e5"),c=n("9093").f,u=n("11e9").f,d=n("86cc").f,p=n("aa77").trim,f="Number",h=i[f],m=h,g=h.prototype,v=r(n("2aeb")(g))==f,b="trim"in String.prototype,y=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():p(e,3);var n,i,a,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+e}for(var s,l=e.slice(2),c=0,u=l.length;c<u;c++)if(s=l.charCodeAt(c),s<48||s>a)return NaN;return parseInt(l,i)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(v?l((function(){g.valueOf.call(n)})):r(n)!=f)?s(new m(y(e)),n,h):y(e)};for(var _,k=n("9e1e")?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;k.length>C;C++)a(m,_=k[C])&&!a(h,_)&&d(h,_,u(m,_));h.prototype=g,g.constructor=h,n("2aba")(i,f,h)}},dfe3:function(t,e,n){"use strict";var i=n("058b"),a=n.n(i);a.a},fad7:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{attrs:{"max-width":400,title:"Errors",width:500},on:{close:t.okClick}},[n("div",{staticClass:"row c-danger ml-0"},[t.errors.length>0?n("p",{staticClass:"text-left"},[n("b",[t._v("Please correct the following error(s):")]),n("ul",t._l(t.errorList,(function(e,i){return n("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()]),n("button",{staticClass:"k-button k-primary btn-popup",on:{click:t.okClick}},[t._v("Ok")])])},a=[],r=n("4f1f"),s={components:{"k-dialog":r["a"]},props:{errors:Array},data:function(){return{errorList:[]}},created:function(){this.$props.errors&&(this.errorList=this.$props.errors)},methods:{okClick:function(){this.$emit("cancel")}}},o=s,l=(n("bd6b"),n("2877")),c=Object(l["a"])(o,i,a,!1,null,"b5549958",null);e["a"]=c.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-7308a996.50773d08.js.map